import firebase_admin
from firebase_admin import credentials, firestore

# Initialize Firebase Admin SDK with your service account key
cred = credentials.Certificate("firebase_credentials.json")  # Adjust the path if necessary
firebase_admin.initialize_app(cred)

# Initialize Firestore client
db = firestore.client()

# 1. Function to Delete All Voters (Documents in the Collection)
def delete_all_voters():
    voters_ref = db.collection("voters")
    docs = voters_ref.stream()
    for doc in docs:
        doc.reference.delete()
        print(f"Deleted voter with ID: {doc.id}")

# 2. Function to Insert Voter Data
def add_voter(voter_id, name, aadhaar_number, mobile_number, age, voter_status, polling_station, eye_retina):
    voter_data = {
        "name": name,
        "aadhaar_number": aadhaar_number,
        "mobile_number": mobile_number,
        "age": age,
        "voter_status": voter_status,
        "polling_station": polling_station,
        "eye_retina": eye_retina
    }
    db.collection("voters").document(voter_id).set(voter_data)
    print(f"Voter with ID {voter_id} added successfully!")

# Call the function to delete all data
delete_all_voters()

# Insert new data
add_voter("1", "John Doe", "123456789012", "9876543210", 28, "Not Voted", "","[-0.12121899425983429, 0.20054061710834503, 0.048766400665044785, 0.038862261921167374, -0.15314912796020508, -0.00666709803044796, 0.003338377922773361, -0.11119099706411362, 0.22122372686862946, -0.04605357348918915, 0.242306187748909, -0.031634412705898285, -0.21233737468719482, -0.08257904648780823, -0.02732931450009346, 0.1329231858253479, -0.10280194878578186, -0.1730864942073822, -0.08003130555152893, -0.06390118598937988, 0.05108904838562012, 0.008186089806258678, 0.033189382404088974, 0.09406086802482605, -0.16770458221435547, -0.41307511925697327, -0.050518423318862915, -0.1308165192604065, 0.0545937716960907, -0.11295373737812042, -0.04958384484052658, 0.023692429065704346, -0.18052667379379272, -0.12911053001880646, -0.0182664692401886, 0.07185393571853638, 0.0318426787853241, 0.0012369640171527863, 0.21086761355400085, -0.016102993860840797, -0.21914620697498322, 0.07125656306743622, 0.08487208187580109, 0.3030703365802765, 0.15849439799785614, 0.040954578667879105, 0.06847233325242996, -0.04955756291747093, -0.012735240161418915, -0.148077592253685, 0.09366530179977417, 0.1396535485982895, 0.12171348929405212, 0.013395051471889019, 0.047636277973651886, -0.1799020767211914, -0.07118253409862518, 0.08404967933893204, -0.21125337481498718, 0.10648680478334427, 0.11834783107042313, -0.01920328661799431, -0.03468583524227142, 0.008034656755626202, 0.2474878579378128, 0.11255339533090591, -0.0897119790315628, -0.08438808470964432, 0.1131909042596817, -0.20156416296958923, -0.010608680546283722, 0.024952560663223267, -0.09956616908311844, -0.17902569472789764, -0.2768169045448303, 0.08178132027387619, 0.5130058526992798, 0.14119283854961395, -0.23096932470798492, 0.007347509264945984, -0.09297305345535278, -0.03099837526679039, 0.09479866921901703, 0.05751964822411537, -0.07167311012744904, -0.009274359792470932, -0.13046595454216003, 0.06770254671573639, 0.17006176710128784, 0.07018672674894333, -0.02473100833594799, 0.23766368627548218, 0.05185216665267944, -0.01475699245929718, 0.054351914674043655, 0.07411959022283554, -0.11626597493886948, 0.00016752630472183228, -0.11072028428316116, 0.0008563753217458725, -0.008354843594133854, -0.09226104617118835, 0.010805459693074226, 0.04508757218718529, -0.20067915320396423, 0.08579104393720627, 0.03179648891091347, -0.01852026768028736, -0.02100704237818718, 0.1292484551668167, -0.11824491620063782, -0.09414906054735184, 0.19172196090221405, -0.2419939637184143, 0.1862115114927292, 0.17148923873901367, -0.009068588726222515, 0.18322789669036865, 0.09592150151729584, 0.09119492769241333, 0.05606825649738312, -0.01655345968902111, -0.08743908256292343, -0.055713433772325516, 0.015941336750984192, -0.11185358464717865, 0.15183906257152557, 0.09222179651260376]" )
add_voter("2", "Alice Smith", "2345 6789 0123", "9876543211", 28, "Voted", "Station B", "Normal")
add_voter("3", "Bob Johnson", "3456 7890 1234", "9876543212", 35, "Not Voted", "Station C", "Abnormal")

print("New voter data inserted successfully!")
